<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Bot</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="static/css/chat.css">
    <link rel="stylesheet" href="static/css/home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

<body>
    <section class="static-header">
        <p>SONG RECOMMENDATION BASED ON EMOTION DETECTION SYSTEM     
        </p>
    </section>
                <section class="text-gray-600">
                    <div class="col-lg-8 start-text">
                    <div class="container-lg px-4 py-4 mx-auto flex flex-wrap items-center">
                      <div class="lg:w-3/5 md:w-1/2 md:pr-16 lg:pr-0 pr-0">
                        <h1 class="title-font text-gray-900 text1">Curate the perfect playlist for yourself! </h1>
                        <p class="leading-relaxed mt-4 text2">Can't decide which songs to listen to? Dont worry, we've got you covered!</p>
                        <p class="leading-relaxed mt-4 text3">Most people spend more time deciding on which song to listen to than on actually listening to the song itself! There's so many options to select from and it is very confusing for most people to pick a playlist and genre of songs.
                        </p>
                        <p class="leading-relaxed mt-4 text3">It is a well known fact that the choice of music is a very personal and emotional one to a person. Music also helps to alter the mood of a person. So, let us help you pick songs based on your current mood and mental state!</p>
                        <p class="leading-relaxed mt-4 text3">Simply tell us what emotion you are currently expressing, and let us curate the perfect playlist for you!</p>

                    </div>
                    </div>
                </div>
                  </section>
   
    
    <!-- CHAT BAR BLOCK -->    
  <!-- CHAT BAR BLOCK -->    
  <div class="chat-bar-collapsible">
    <button id="chat-button" type="button" class="collapsible">Song Recommendation Chatbot
        <i id="chat-icon" style="color: #fff;" class="fa fa-fw fa-comments-o"></i>
    </button>

    <div class="content">
        <div class="full-chat-block">
            <!-- Message Container -->
            <div class="outer-container">
                <div class="chat-container">
                    <!-- Messages -->
                    <div id="chatbox">
                        <div class="row">
                            <div class="col-sm-6 offset-sm-3">
                                <div id="chatbox" class="border border-success">
                                    <p class="botText"><span>Hey!!</span></p>
                                </div>
                                <div id="userInput">
                                    <input id="textInput" class="form-control" type="text" name="msg" placeholder="Type Your Message Here">
                                    <input id="buttonInput" class="btn btn-success form-control" type="submit" value="Send">
                                </div>
                            </div>
                        </div>
                    
                    
                    </div>
</body>
<script>
    function getResponse() {
        let userText = $("#textInput").val();
        let userHtml = '<p class="userText"><span>' + userText + '</span></p>';
        $("#textInput").val("");
        $("#chatbox").append(userHtml);
        document.getElementById('userInput').scrollIntoView({block: 'start', behavior: 'smooth'});
        $.get("/get", { msg: userText }).done(function(data) {
        var botHtml = '<p class="botText"><span>' + data + '</span></p>';
        $("#chatbox").append(botHtml);
        document.getElementById('userInput').scrollIntoView({block: 'start', behavior: 'smooth'});
});
}
    $("#textInput").keypress(function(e) {
    //if enter key is pressed
        if(e.which == 13) {
            getResponse();
        }
    });
    $("#buttonInput").click(function() {
        getResponse();
    });
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="static/scripts/responses.js"></script>
<script src="static/scripts/chat.js"></script>

</html>